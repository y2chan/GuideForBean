{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@300&display=swap" rel="stylesheet">
    <title>AI ìš”ì•½ ì„œë¹„ìŠ¤</title>
    <link rel="icon" href="../static/photo/GaBeanLogo.png" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<div class="header">
    <div class="logo-and-menu">
        <a href="{% url 'GaBean:home' %}">
            <div class="logo">
                <img src="../static/photo/GaBean.png" alt="Your Logo">
            </div>
        </a>
        <div id="menu">
            <ul>
                <li>
                    <a href="{% url 'GaBean:info_gabean' %}">GaBeanì´ë€?</a>
                </li>
                <li>
                    <a href="{% url 'GaBean:campusmap' %}">ìº í¼ìŠ¤ë§µ</a>
                    <ul>
                        <li><a href="{% url 'GaBean:campusmap' %}">ìº í¼ìŠ¤ë§µ</a></li>
                        <li><a href="{% url 'GaBean:campusmap_detail' %}">ìƒì„¸ ì •ë³´</a></li>
                    </ul>
                </li>
                <li>
                    <a href="{% url 'GaBean:humun_food' %}">í›„ë¬¸</a>
                    <ul>
                        <li><a href="{% url 'GaBean:humun_food' %}">ìŒì‹ì </a></li>
                        <li><a href="{% url 'GaBean:humun_random' %}">ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</a></li>
                    </ul>
                </li>
                <li>
                    <a href="{% url 'GaBean:info_sugang' %}">í•™êµ ì •ë³´</a>
                    <ul>
                        <li><a href="{% url 'GaBean:info_sugang' %}">ìˆ˜ê°• ì •ë³´</a></li>
                        <li><a href="{% url 'GaBean:info_graduate' %}">ì¡¸ì—… ì •ë³´</a></li>
                        <li><a href="{% url 'GaBean:info_library' %}">ë„ì„œê´€</a></li>
                    </ul>
                </li>
                <li>
                    <a href="{% url 'GaBean:info_bus' %}">êµí†µ</a>
                    <ul>
                        <li><a href="{% url 'GaBean:info_bus' %}">ë²„ìŠ¤</a></li>
                        <li><a href="{% url 'GaBean:info_subway' %}">ì§€í•˜ì² </a></li>
                        <li><a href="{% url 'GaBean:info_shuttle' %}">ì…”í‹€ë²„ìŠ¤</a></li>
                    </ul>
                </li>
                <li>
                    <a href="{% url 'GaBean:sound_kong' %}">ì½©ë“¤ì˜ ì†Œë¦¬</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<button class="fixed-button" id="openSlider"></button>

<!-- ìŠ¬ë¼ì´ë“œì¸ ë©”ë‰´ -->
<div class="slider-menu">
    <div class="slider-content">
        ID : í•™ë²ˆ / PW : SU-WINGs PW
        <br>(ì¦‰, SU-WINGs ë¡œê·¸ì¸ê³¼ ë°©ì‹ì´ ê°™ë‹¤)
    </div>
</div>

<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        // ë²„íŠ¼ ì—˜ë¦¬ë¨¼íŠ¸ ê°€ì ¸ì˜¤ê¸°
        var fixedButton = document.querySelector('.fixed-button');

        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        window.addEventListener('scroll', function() {
            // ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
            var scrollY = window.scrollY;
            // ì›í•˜ëŠ” ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ìƒì´ë©´ ë²„íŠ¼ ìœ„ì¹˜ ë³€ê²½
            if (scrollY > 200) { // ì›í•˜ëŠ” ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¡œ ìˆ˜ì •
               fixedButton.style.top = '100px'; // ì›í•˜ëŠ” ìœ„ì¹˜ë¡œ ì¡°ì ˆ ê°€ëŠ¥
            } else {
                fixedButton.style.top = '100px'; // ë‹¤ì‹œ ì´ˆê¸° ìœ„ì¹˜ë¡œ ì¡°ì ˆ ê°€ëŠ¥
            }
        });

        // ì´ˆê¸° ë²„íŠ¼ ìœ„ì¹˜ ì„¤ì •
        fixedButton.style.top = '100px';
        fixedButton.style.right = '0px';
    });

    var imageButton = document.getElementById('openSlider');

    // í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    imageButton.addEventListener('click', function() {
        // í´ë¦­ ì‹œ ì´ë¯¸ì§€ ë³€ê²½
        imageButton.classList.toggle('clicked');
    });

</script>
<script>
    // ìŠ¬ë¼ì´ë“œì¸ ë©”ë‰´ ì—´ê¸°/ë‹«ê¸°
    var openSliderButton = document.getElementById('openSlider');
    var sliderMenu = document.querySelector('.slider-menu');

    sliderMenu.style.top = '100px';

    openSliderButton.addEventListener('click', function() {
        if (sliderMenu.style.right === '-350px' || sliderMenu.style.right === '') {
            sliderMenu.style.right = '60px';
        } else {
            sliderMenu.style.right = '-350px';
        }
    });
</script>
<div class="news-button-container">
    <button id="newsButton" class="newsButton">SYU<br>ë‰´ìŠ¤</button>
</div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        var newsButton = document.getElementById('newsButton');

        // ì´ˆê¸° ë²„íŠ¼ ìœ„ì¹˜ ì„¤ì •
        newsButton.style.top = '170px';
        newsButton.style.right = '0px';

        newsButton.addEventListener('click', function() {
            window.location.href = "{% url 'GaBean:news' %}";
        });
    });
</script>
<div class="page-title-img">
</div>
<div class="main-container">
    <div class="list-container">
        <div class="list-title">
            <h1 style="font-size: 30pt; border-bottom: 2px solid black; padding-bottom:30px;"><a href="{% url 'GaBean:summarize' %}">AI ë¬¸ì„œ<br> ìš”ì•½ ì„œë¹„ìŠ¤</a></h1>
        </div>
        <h2 style="font-size: 13pt; text-align: center; margin-bottom: -10px; margin-top: -30px;">ê¸´ ë¬¸ì„œì˜ ë‚´ìš©ì„ ë‹¨ 3ì¤„ë¡œ ìš”ì•½í•´ì£¼ëŠ”</h2>
        <h2 style="font-size: 16pt; text-align: center; text-decoration: black underline;">AI ê¸°ë°˜ ì„œë¹„ìŠ¤</h2>
        <p style="font-size: 20pt; text-align: center; margin-bottom: -20px;">ğŸ™</p>
        <p style="font-size: 10pt; text-align: center; text-decoration: black underline; margin-top: 30px;">í•´ë‹¹ ê¸°ëŠ¥ì„ ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•  ê²½ìš°, <br>ì‚¬ìš©ëŸ‰ë§Œí¼ ìš”ê¸ˆì´ ë°œìƒí•©ë‹ˆë‹¤.<br>ë”°ë¼ì„œ ë¬´ë¶„ë³„í•œ ì‚¬ìš©ì€ ì œ ì§€ê°‘ì´ ìœ„í—˜í•©ë‹ˆë‹¤.</p>
        <p style="font-size: 9.25pt; text-align: center; margin-top: 30px;">ì•„ì§ ê¸°ëŠ¥ì´ ì™„ë²½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br> ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”</p>
    </div>
    <div class="content-container">
        <div class="main-container">
            <div class="info-bus">
                <div class="direction">
                    <h1 style="text-decoration: skyblue wavy underline; font-family: 'Noto Sans KR', sans-serif; font-size: 22pt;">ìš”ì•½í•  ë‚´ìš© ì…ë ¥</h1>
		    <p style="font-size: 11.5pt;">ìµœì†Œ í•œ ë¬¸ì¥ ì´ìƒì˜ ê¸€ì´ ìˆì–´ì•¼í•˜ê³ , í•œ ë¬¸ì¥ì€ 5ì–´ì ˆ ì´ìƒ, 200ì ë¯¸ë§Œìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.<br>ë˜í•œ ìµœëŒ€ 1000ìê¹Œì§€ ì…ë ¥ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                    <br>
                    <form id="summary-form" method="post">
                        {% csrf_token %}
                        <textarea id="content" name="text" rows="20%" cols="120%" style="resize: none;" maxlength="1000"
                                  required placeholder="[ì˜ˆì‹œ]
ê°„í¸ì†¡ê¸ˆ ì´ìš©ê¸ˆì•¡ì´ í•˜ë£¨ í‰ê·  2000ì–µì›ì„ ë„˜ì–´ì„°ë‹¤. í•œêµ­ì€í–‰ì´ 17ì¼ ë°œí‘œí•œ '2019ë…„ ìƒë°˜ê¸°ì¤‘ ì „ìì§€ê¸‰ì„œë¹„ìŠ¤ ì´ìš© í˜„í™©'ì— ë”°ë¥´ë©´ ì˜¬í•´ ìƒë°˜ê¸° ê°„í¸ì†¡ê¸ˆì„œë¹„ìŠ¤ ì´ìš©ê¸ˆì•¡(ì¼í‰ê· )ì€ ì§€ë‚œí•´ í•˜ë°˜ê¸° ëŒ€ë¹„ 60.7% ì¦ê°€í•œ 2005ì–µì›ìœ¼ë¡œ ì§‘ê³„ëë‹¤. ê°™ì€ ê¸°ê°„ ì´ìš©ê±´ìˆ˜(ì¼í‰ê· )ëŠ” 34.8% ëŠ˜ì–´ë‚œ 218ë§Œê±´ì´ì—ˆë‹¤. ê°„í¸ ì†¡ê¸ˆ ì‹œì¥ì—ëŠ” ì„ ë¶ˆì „ìì§€ê¸‰ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì „ìê¸ˆìœµì—…ìì™€ ê¸ˆìœµê¸°ê´€ ë“±ì´ ì°¸ì—¬í•˜ê³  ìˆë‹¤. ì´ìš©ê¸ˆì•¡ì€ ì „ìê¸ˆìœµì—…ìê°€ í•˜ë£¨í‰ê·  1879ì–µì›, ê¸ˆìœµê¸°ê´€ì´ 126ì–µì›ì´ì—ˆë‹¤. í•œì€ì€ ì¹´ì¹´ì˜¤í˜ì´, í† ìŠ¤ ë“± ê°„í¸ì†¡ê¸ˆ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ ê°„ ê²½ìŸì´ ì‹¬í™”ë˜ë©´ì„œ ì´ìš©ê·œëª¨ê°€ í¬ê²Œ í™•ëŒ€ëë‹¤ê³  ë¶„ì„í–ˆë‹¤. êµ­íšŒ ì •ë¬´ìœ„ì›íšŒ ì†Œì† ë°”ë¥¸ë¯¸ë˜ë‹¹ ìœ ì˜ë™ ì˜ì›ì— ë”°ë¥´ë©´ ì¹´ì¹´ì˜¤í˜ì´, í† ìŠ¤ ë“± ì„ ë¶ˆì „ìì§€ê¸‰ì„œë¹„ìŠ¤ ì œê³µì—…ì²´ëŠ” ì§€ë‚œí•´ ë§ˆì¼€íŒ… ë¹„ìš©ìœ¼ë¡œ 1000ì–µì› ì´ìƒì„ ì§€ì¶œí–ˆë‹¤. ë§ˆì¼€íŒ… ë¹„ìš© ì§€ì¶œê·œëª¨ëŠ” ì¹´ì¹´ì˜¤í˜ì´ê°€ 491ì–µì›, ë¹„ë°”ë¦¬í¼ë¸”ë¦¬ì¹´(í† ìŠ¤)ê°€ 134ì–µì› ë“± ìˆœìœ¼ë¡œ ë§ì•˜ë‹¤."></textarea>
                        <br>
                        <input type="button" id="submit-button" value="ìš”ì•½í•˜ê¸°" style="margin-top: 1%; padding: 10px 20px; font-size: 16px; color: #fff; background-color: #007BFF; border: none; border-radius: 4px; cursor: pointer; transition: all 0.3s ease 0s;">

                        <script>
                            $("#submit-button").hover(function(){
                                $(this).css("background-color", "rgba(6, 186, 242, 1)");
                            }, function(){
                                $(this).css("background-color", "#007BFF");
                            });
                        </script>

                        <p id="error-message" style="color:red;"></p>
                    </form>
                    <br><br><br>
                    <h2 id="summary-title" style="display: none;">ìš”ì•½ ê²°ê³¼</h2>
                    <br>
                    <pre id="summary-result" style="width: 80%; display: none; white-space: pre-wrap; font-size: 11pt;"></pre>
                </div>

                <script>
                    var totalLength = 0;  // ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸

                    function validateForm() {
                        var content = document.getElementById("content").value;
                        var sentences = content.split(/\.\s+/); // ìˆ˜ì •ëœ ë¶€ë¶„

                        var errorFlag = false;

                        if (content.trim() === '') {
                            document.getElementById("error-message").innerHTML = "ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.";
                            return false;
                        }

                        for(var i = 0; i < sentences.length; i++) {
                            var sentence = sentences[i].trim();
                            var words = sentence.split(" ").length;
                            var characters = sentence.length;

                            // ê° ë¬¸ì¥ì— ëŒ€í•´ ì–´ì ˆ ìˆ˜ì™€ ê¸¸ì´ë¥¼ ì²´í¬í•©ë‹ˆë‹¤.
                            if (words < 5 || characters > 200) {
                                document.getElementById("error-message").innerHTML = "ë¬¸ì¥ì€ 5 ì–´ì ˆ ì´ìƒ, 200 ì ì´í•˜ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.";
                                errorFlag = true;
                                break;  // í•˜ë‚˜ì˜ ë¬¸ì¥ì´ë¼ë„ ì¡°ê±´ì— ë§ì§€ ì•Šìœ¼ë©´ ë°˜ë³µë¬¸ íƒˆì¶œ
                            }
                        }

                        if (!errorFlag) {
                            totalLength += content.length;

                            if (totalLength > 1000) {
                                document.getElementById("error-message").innerHTML = "ìµœëŒ€ 1000ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
                                totalLength -= content.length;
                                return false;
                            }
                        }

                        return !errorFlag;
                    }


                    $(document).ready(function(){
                        $("#submit-button").click(function(){
                            $("#error-message").text("");
                            if (validateForm()) {
                                $.ajax({
                                    url: '/summarize/',  // your summary API endpoint
                                    type: 'post',
                                    data: $('#summary-form').serialize(),
                                    beforeSend: function(xhr, settings) {
                                        xhr.setRequestHeader("X-CSRFToken", $('input[name="csrfmiddlewaretoken"]').val());
                                    },
                                    success: function(response) {
                                        console.log(response);
                                        if(response && response.summary){
                                            $('#summary-result').text(response.summary).show();
                                            $('#summary-title').show();
                                        } else {
                                            $('#summary-result').text("ì˜¤ë¥˜ë¡œ ì¸í•´ ìš”ì•½ ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.").show();
                                            $('#summary-title').show();
                                        }
                                    }
                                });
                            }
                        });
                    });
                </script>
            </div>
        </div>
    </div>
</div>
<div class="footer">
    <a href="https://www.kogl.or.kr/info/license.do" target="_blank"><img src="../static/photo/copyright.jpeg" alt="CopyRight" style="float: right; width: 5%;"></a>
    <a href="https://ccl.cckorea.org/about/" target="_blank"><img src="../static/photo/copyright2.png" alt="CopyRight2" style="float: right; width: 5%;"></a>
    <p style="margin-left: 20px;">Copyright Â© 2023 ì–‘ì´ì°¬ All rights reserved.
        <br>Dev : Ee Chan Yang
        <br>Logo : Jun Seong Park
        <br>Other Website Dev : Sang Yoon Kim</p>
    <a href="https://www.flaticon.com/kr/free-icons/" title="ë§‘ì€ ì•„ì´ì½˜" style="float: right; margin-right: 10px; color: white; font-size: 8pt;">ë§‘ì€ ì•„ì´ì½˜  ì œì‘ì: Freepik - Flaticon</a>
</div>
</body>
</html>

